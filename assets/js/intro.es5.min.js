"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var activeIntro=1,classes={box:"intro-box",text:"intro-text",list:"intro-list",buttonsContainer:"intro-buttons-container",button:"intro-button",buttons:{skip:"skip-button",next:"next-button",prev:"prev-button",finish:"finish-button"}},Intro=function(){function t(){_classCallCheck(this,t)}return t.prototype.config=function(t){this.nextText=t.nextText||"Next",this.prevText=t.prevText||"Previous",this.skipText=t.skipText||"Skip",this.finishText=t.finishText||"Finish",this.intros=t.intros||[],this.keyboardControl()},t.prototype.start=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t=t-1>this.intros.length-1?0:t-1,activeIntro=t+1;var e=this.intros[t],n=e.element;this.createIntro(e,n,t)},t.prototype.createIntro=function(t,e,n){var o=this;if(document.querySelector("."+classes.box))this.removeIntroBox();else{var s=document.createElement("div");s.classList.add(classes.box),s.classList.add(t.position||"top");var i=document.createElement("div");i.classList.add(classes.text),i.innerHTML=t.text||"Text not found!";var r=document.createElement("div");r.classList.add(classes.list);var a=document.createTextNode(n+1+"/"+this.intros.length);r.appendChild(a);var c=document.createElement("div");if(c.classList.add(classes.buttonsContainer),n!=this.intros.length-1){var l=document.createElement("button");l.classList.add(classes.button),l.classList.add(classes.buttons.skip),l.innerHTML=this.skipText,l.setAttribute("title",l.textContent),c.appendChild(l),l.addEventListener("click",function(){o.removeIntro()})}if(n>0&&this.intros.length>1){var d=document.createElement("button");d.classList.add(classes.button),d.classList.add(classes.buttons.prev),d.innerHTML=this.prevText,d.setAttribute("title",d.textContent),c.appendChild(d),d.addEventListener("click",function(){o.removeIntroBox();var t=--n;activeIntro=n+1,o.createIntro(o.intros[t],o.intros[t].element,t)})}if(n!=this.intros.length-1&&this.intros.length>1){var u=document.createElement("button");u.classList.add(classes.button),u.classList.add(classes.buttons.next),u.innerHTML=this.nextText,u.setAttribute("title",u.textContent),c.appendChild(u),u.addEventListener("click",function(){o.removeIntroBox();var t=++n;activeIntro=n+1,o.createIntro(o.intros[t],o.intros[t].element,t)})}else{var v=document.createElement("button");v.classList.add(classes.button),v.classList.add(classes.buttons.finish),v.innerHTML=this.finishText,v.setAttribute("title",v.textContent),c.appendChild(v),v.addEventListener("click",function(){o.removeIntro()})}s.appendChild(i),s.appendChild(r),s.appendChild(c);var h=document.querySelectorAll(e)[0];h.appendChild(s);var p=h.getBoundingClientRect();this.setScroll(p.top)}},t.prototype.removeIntroBox=function(){document.querySelector("."+classes.box).parentNode.removeChild(document.querySelector("."+classes.box))},t.prototype.removeIntro=function(){this.removeIntroBox(),this.setScroll(0)},t.prototype.setScroll=function(t){var e=Math.floor(t);window.scrollTo(0,e)},t.prototype.keyboardControl=function(){var t=this;document.addEventListener("keyup",function(e){if(!document.querySelector("."+classes.box))return!1;var n=event.which||event.keyCode;27==n&&t.removeIntro(),39==n&&(t.intros.length<=activeIntro?activeIntro=t.intros.length:++activeIntro,t.intros.length>=activeIntro&&(t.removeIntro(),t.start(activeIntro))),37==n&&(activeIntro<=1?activeIntro=1:--activeIntro,activeIntro>0&&(t.removeIntro(),t.start(activeIntro)))})},t}();