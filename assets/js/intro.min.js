"use strict";let activeIntro=1;const classes={box:"intro-box",text:"intro-text",list:"intro-list",buttonsContainer:"intro-buttons-container",button:"intro-button",buttons:{skip:"skip-button",next:"next-button",prev:"prev-button",finish:"finish-button"}};class Intro{config(t){this.nextText=t.nextText||"Next",this.prevText=t.prevText||"Previous",this.skipText=t.skipText||"Skip",this.finishText=t.finishText||"Finish",this.intros=t.intros||[],this.keyboardControl()}start(t=1){t=t-1>this.intros.length-1?0:t-1,activeIntro=t+1;const e=this.intros[t],s=e.element;this.createIntro(e,s,t)}createIntro(t,e,s){if(document.querySelector(`.${classes.box}`))this.removeIntroBox();else{const n=document.createElement("div");n.classList.add(classes.box),n.classList.add(t.position||"top");const o=document.createElement("div");o.classList.add(classes.text),o.innerHTML=t.text||"Text not found!";const i=document.createElement("div");i.classList.add(classes.list);const r=document.createTextNode(`${s+1}/${this.intros.length}`);i.appendChild(r);const c=document.createElement("div");if(c.classList.add(classes.buttonsContainer),s!=this.intros.length-1){const t=document.createElement("button");t.classList.add(classes.button),t.classList.add(classes.buttons.skip),t.innerHTML=this.skipText,t.setAttribute("title",t.textContent),c.appendChild(t),t.addEventListener("click",()=>{this.removeIntro()})}if(s>0&&this.intros.length>1){const t=document.createElement("button");t.classList.add(classes.button),t.classList.add(classes.buttons.prev),t.innerHTML=this.prevText,t.setAttribute("title",t.textContent),c.appendChild(t),t.addEventListener("click",()=>{this.removeIntroBox();const t=--s;activeIntro=s+1,this.createIntro(this.intros[t],this.intros[t].element,t)})}if(s!=this.intros.length-1&&this.intros.length>1){const t=document.createElement("button");t.classList.add(classes.button),t.classList.add(classes.buttons.next),t.innerHTML=this.nextText,t.setAttribute("title",t.textContent),c.appendChild(t),t.addEventListener("click",()=>{this.removeIntroBox();const t=++s;activeIntro=s+1,this.createIntro(this.intros[t],this.intros[t].element,t)})}else{const t=document.createElement("button");t.classList.add(classes.button),t.classList.add(classes.buttons.finish),t.innerHTML=this.finishText,t.setAttribute("title",t.textContent),c.appendChild(t),t.addEventListener("click",()=>{this.removeIntro()})}n.appendChild(o),n.appendChild(i),n.appendChild(c);const a=document.querySelectorAll(e)[0];a.appendChild(n);const l=a.getBoundingClientRect();this.setScroll(l.top)}}removeIntroBox(){document.querySelector(`.${classes.box}`).parentNode.removeChild(document.querySelector(`.${classes.box}`))}removeIntro(){this.removeIntroBox(),this.setScroll(0)}setScroll(t){let e=Math.floor(t);window.scrollTo(0,e)}keyboardControl(){const t=this;document.addEventListener("keyup",function(e){if(!document.querySelector(`.${classes.box}`))return!1;var s=event.which||event.keyCode;27==s&&t.removeIntro(),39==s&&(t.intros.length<=activeIntro?activeIntro=t.intros.length:++activeIntro,t.intros.length>=activeIntro&&(t.removeIntro(),t.start(activeIntro))),37==s&&(activeIntro<=1?activeIntro=1:--activeIntro,activeIntro>0&&(t.removeIntro(),t.start(activeIntro)))})}}